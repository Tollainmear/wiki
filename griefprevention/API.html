
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>API · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="Pixelmon.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    首页
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">基础设置</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="Getting-Started.html">
            
                <a href="Getting-Started.html">
            
                    
                    入门指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Claim-Management.html">
            
                <a href="Claim-Management.html">
            
                    
                    创建领地
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Permissions.html">
            
                <a href="Permissions.html">
            
                    
                    权限
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="Commands.html">
            
                <a href="Commands.html">
            
                    
                    指令
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">进阶用法</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="Global-Config.html">
            
                <a href="Global-Config.html">
            
                    
                    ⚠️总体配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Debugging.html">
            
                <a href="Debugging.html">
            
                    
                    调试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="Flags.html">
            
                <a href="Flags.html">
            
                    
                    管理选项
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="Advanced-Options.html">
            
                <a href="Advanced-Options.html">
            
                    
                    高级设置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="Claiminfo.html">
            
                <a href="Claiminfo.html">
            
                    
                    领地信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="Trust-System.html">
            
                <a href="Trust-System.html">
            
                    
                    信任系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="WECUI-Improved-Visuals.html">
            
                <a href="WECUI-Improved-Visuals.html">
            
                    
                    WECUI 可见效果
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">相关 Mod</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="Pixelmon.html">
            
                <a href="Pixelmon.html">
            
                    
                    Pixelmon
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">开发者</li>
        
        
    
        <li class="chapter active" data-level="5.1" data-path="API.html">
            
                <a href="API.html">
            
                    
                    API
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >API</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="getting-started">Getting Started</h1>
<p>This wiki page will guide you through the steps of adding and utilizing the GriefPrevention developer API to your Sponge plugin.
You will be expected to have at least basic knowledge of developing Java plugins for Sponge API in order to apply this information.
If you are new to Sponge API more information can be found on the <a href="https://docs.spongepowered.org/master/en-GB/plugin/index.html" target="_blank">Sponge Docs</a>.</p>
<h2 id="gradle">Gradle</h2>
<p>Sponge and Forge developers should be familiar with Gradle and it&apos;s use in plugin/mod development.</p>
<h3 id="buildgradle---dependencies">build.gradle - Dependencies</h3>
<p>Below is an example of the dependencies block of your build.gradle that targets the GP API v0.6.</p>
<pre><code>dependencies {
    compile(&apos;org.spongepowered:spongeapi:5.1.0&apos;)
    compile(&apos;me.ryanhamshire:griefprevention:1.10.2-4.0.0.379:api&apos;)
}
</code></pre><h2 id="sponge-api">Sponge API</h2>
<h3 id="plugin-annotation">Plugin Annotation</h3>
<p>If you are developing a plugin that will work with GriefPrevention, you must include 
it as a dependency in your <code>@Plugin</code> declaration.</p>
<pre><code class="lang-java"><span class="hljs-meta">@Plugin</span>(id = <span class="hljs-string">&quot;gpapiexample&quot;</span>,
        name = <span class="hljs-string">&quot;My GP Addon&quot;</span>,
        version = <span class="hljs-string">&quot;1.0.0&quot;</span>,
        description = <span class="hljs-string">&quot;The best addon to the greatest protection plugin ever conceived&quot;</span>,
        authors = {<span class="hljs-string">&quot;bloodshot&quot;</span>},
        dependencies = {
            <span class="hljs-meta">@Dependency</span>(id = <span class="hljs-string">&quot;griefprevention&quot;</span>)
        })
</code></pre>
<h3 id="creating-an-instance">Creating an Instance</h3>
<p>Example plugin main class:</p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> me.ryanhamshire.griefprevention.GriefPrevention;
<span class="hljs-keyword">import</span> me.ryanhamshire.griefprevention.api.GriefPreventionApi;
<span class="hljs-keyword">import</span> org.spongepowered.api.event.game.state.GamePostInitializationEvent;

<span class="hljs-keyword">import</span> java.util.Optional;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyAddon</span> </span>{

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> MyAddon instance;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> GriefPreventionApi griefPrevention;

    <span class="hljs-meta">@Listener</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPostInitialization</span><span class="hljs-params">(GamePostInitializationEvent event)</span> </span>{
        instance = <span class="hljs-keyword">this</span>;
        MyAddon.griefPrevention = GriefPrevention.getApi();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MyAddon <span class="hljs-title">getInstance</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> instance;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> GriefPreventionApi <span class="hljs-title">getGriefPrevention</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> griefPrevention;
    }
}
</code></pre>
<h3 id="using-the-griefprevention-api">Using the GriefPrevention API</h3>
<p>Example method on creating and saving a claim using the GP API:</p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> me.ryanhamshire.griefprevention.api.claim.Claim;
<span class="hljs-keyword">import</span> me.ryanhamshire.griefprevention.api.claim.ClaimResult;
<span class="hljs-keyword">import</span> me.ryanhamshire.griefprevention.api.claim.ClaimType;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClaimMaker</span> </span>{

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> MyAddon INSTANCE = MyAddon.getInstance();
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> GriefPreventionApi GP_INSTANCE = INSTANCE.getGriefPrevention();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Optional&lt;Claim&gt; <span class="hljs-title">createBasicClaim</span><span class="hljs-params">(World world, Vector3i lesserBound, Vector3i greaterBound, UUID owner, <span class="hljs-keyword">boolean</span> cuboid)</span> </span>{
        <span class="hljs-comment">// Create a ClaimResult by supplying the required data</span>
        ClaimResult claimResult = Claim.builder()
                                  .type(ClaimType.BASIC)
                                  .world(world)
                                  .bounds(lesserBound, greaterBound)
                                  .cause(Cause.source(INSTANCE).build())
                                  .owner(owner)
                                  .build();
        <span class="hljs-comment">// Return the Claim object from the result, if sucessful</span>
        <span class="hljs-keyword">return</span> (claimResult.successful()) ? claimResult.getClaim() : Optional.empty();
    }
}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Pixelmon.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Pixelmon">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"API","level":"5.1","depth":1,"previous":{"title":"Pixelmon","level":"4.1","depth":1,"path":"Pixelmon.md","ref":"Pixelmon.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"ignoreSpecialCharacters":false,"maxIndexSize":1000000},"sharing":{"all":["facebook","google","twitter","weibo","instapaper"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"fontsettings":{"family":"sans","size":2,"theme":"white"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"API.md","mtime":"2017-09-19T05:15:18.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-12-31T13:57:43.967Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

